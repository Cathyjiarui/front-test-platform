{"remainingRequest":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/finup/WebstormProjects/front-test-platform/src/views/UserManage/UserManage.vue?vue&type=style&index=0&id=7694ce45&lang=scss&scoped=true&","dependencies":[{"path":"/Users/finup/WebstormProjects/front-test-platform/src/views/UserManage/UserManage.vue","mtime":1616145119618},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICJ+QC9hc3NldHMvc2Nzcy91c2VyTWFuYWdlLnNjc3MiOwo="},{"version":3,"sources":["UserManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6KA","file":"UserManage.vue","sourceRoot":"src/views/UserManage","sourcesContent":["<template>\n  <el-row class=\"userManage\" :gutter=\"20\">\n    <el-col :span=\"8\">\n      <el-card shadow=\"hover\">\n        <div class=\"user\">\n          <img :src=\"userImg\"/>\n          <div class=\"userinfo\">\n            <p class=\"name\">{{ userName }}</p>\n            <p class=\"access\">{{ userPosition }}</p>\n          </div>\n        </div>\n        <div class=\"login-info\">\n          <p>上次登录时间：<span>2020-10-20</span></p>\n          <p>上次登录地点：<span>北京</span></p>\n        </div>\n      </el-card>\n      <el-card shadow=\"hover\" style=\"height: 522px; margin-top: 20px\">\n        <el-table :data=\"tableData\">\n          <el-table-column show-overflow-tooltip v-for=\"(val, key) in tableLabel\" :key=\"key\" :prop=\"key\"\n                           :label=\"val\"></el-table-column>\n        </el-table>\n      </el-card>\n    </el-col>\n    <el-col :span=\"16\">\n      <div class=\"num\">\n        <el-card shadow=\"hover\" v-for=\"item in countData\" :key=\"item.name\" :body-style=\"{display: 'flex', padding: 0}\">\n          <i class=\"icon\" :class=\"`el-icon-${item.icon}`\" :style=\"{background: item.color}\"></i>\n          <div class=\"detail\">\n            <p class=\"num\">{{ item.value }}</p>\n            <p class=\"txt\">{{ item.name }}</p>\n          </div>\n        </el-card>\n      </div>\n      <el-card shadow=\"hover\">\n        <EChart style=\"height: 280px\" :charts-data=\"echartsData.order\"></EChart>\n      </el-card>\n      <div class=\"graph\">\n        <el-card shadow=\"hover\">\n          <EChart style=\"height: 260px\" :charts-data=\"echartsData.user\"></EChart>\n        </el-card>\n        <el-card shadow=\"hover\">\n          <EChart style=\"height: 260px\" :charts-data=\"echartsData.video\" :is-axis-chart=\"false\"></EChart>\n        </el-card>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n<script>\nimport EChart from \"@/components/EChart\";\nimport {getUserByToken} from \"@/api/getData\"\nexport default {\n  components: {\n    EChart\n  },\n  data() {\n    return {\n      userImg: require('@/assets/images/user.png'),\n      userName: '',\n      userPosition: '',\n      countData: [\n        {\n          name: '今日新增缺陷',\n          value: 1234,\n          icon: 'hot-water',\n          color: '#2EC7C9'\n        },\n        {\n          name: '系统模块数量',\n          value: 2102,\n          icon: 'sugar',\n          color: '#FFB980'\n        },\n        {\n          name: '今日新增用例',\n          value: 3213,\n          icon: 'grape',\n          color: '#5AB1EF'\n        },\n        {\n          name: '历史遗留缺陷',\n          value: 1234,\n          icon: 'hot-water',\n          color: '#2EC7C9'\n        },\n        {\n          name: '本月收藏订单',\n          value: 2102,\n          icon: 'sugar',\n          color: '#FFB980'\n        },\n        {\n          name: '系统用例总数',\n          value: 3213,\n          icon: 'grape',\n          color: '#5AB1EF'\n        }\n      ],\n      tableData: [],\n      tableLabel: {\n        name: '模块',\n        todayBuy: '日缺陷',\n        monthBuy: '月缺陷',\n        totalBuy: '总缺陷'\n      },\n      echartsData: {\n        order: {\n          xData: [],\n          series: []\n        },\n        user: {\n          xData: [],\n          series: []\n        },\n        video: {\n          series: []\n        }\n      }\n    }\n  },\n  methods: {\n    getTableData() {\n      this.$http.get('/userManage/getData').then(res => {\n        res = res.data\n        // console.log(res)\n        this.tableData = res.data.tableData\n        //订单折线图\n        const order = res.data.orderData\n        this.echartsData.order.xData = order.date\n        //step1：取出series中的name部分 - 键名\n        let orderKeyArray = Object.keys(order.data[0])\n        //step2；循环读取data的值\n        orderKeyArray.forEach(key => {\n          this.echartsData.order.series.push({\n            name: key === 'wechat' ? '小程序' : key,\n            data: order.data.map(item => item[key]),\n            type: 'line'\n          })\n        })\n        //用户柱状图\n        this.echartsData.user.xData = res.data.userData.map(item => item.date)\n        this.echartsData.user.series.push({\n          name: '新增缺陷',\n          data: res.data.userData.map(item => item.new),\n          type: 'bar'\n        })\n        this.echartsData.user.series.push({\n          name: '未解决缺陷',\n          data: res.data.userData.map(item => item.active),\n          type: 'bar',\n          barGap: 0\n        })\n        // 视频饼图\n        this.echartsData.video.series.push({\n          data: res.data.videoData,\n          type: 'pie'\n        })\n      })\n    }\n  },\n  created() {\n    this.getTableData()\n    getUserByToken(this.$store.state.data.token).then(res => {\n      if (res.data.code === 0) {\n        let userData = res.data.data\n        this.userImg = userData.head_img\n        this.userName = userData.name\n        this.userPosition = userData.position\n      }\n    })\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"~@/assets/scss/userManage.scss\";\n</style>"]}]}