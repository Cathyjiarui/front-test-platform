{"remainingRequest":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/finup/WebstormProjects/front-test-platform/src/components/CommonHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/finup/WebstormProjects/front-test-platform/src/components/CommonHeader.vue","mtime":1616145119611},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7Z2V0VXNlckJ5VG9rZW59IGZyb20gJ0AvYXBpL2dldERhdGEnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBjdXJyZW50OiBzdGF0ZSA9PiBzdGF0ZS50YWIuY3VycmVudE1lbnUKICAgIH0pCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckltZzogcmVxdWlyZSgnLi4vYXNzZXRzL2ltYWdlcy91c2VyLnBuZycpLAogICAgICBidXR0b25JY29uOiAnZWwtaWNvbi1zLWZvbGQnLAogICAgICB1c2VyTWFuYWdlOiB7CiAgICAgICAgcGF0aDogJy91c2VyTWFuYWdlJywKICAgICAgICBuYW1lOiAndXNlck1hbmFnZScsCiAgICAgICAgbGFiZWw6ICfnlKjmiLfor6bmg4UnLAogICAgICAgIGljb246ICd1c2VyJwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb2xsYXBzZU1lbnUoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnQ29sbGFwc2VNZW51JykKICAgICAgaWYgKHRoaXMuYnV0dG9uSWNvbiA9PT0gJ2VsLWljb24tcy1mb2xkJykgewogICAgICAgIHRoaXMuYnV0dG9uSWNvbiA9ICdlbC1pY29uLXMtdW5mb2xkJwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnV0dG9uSWNvbiA9ICdlbC1pY29uLXMtZm9sZCcKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNvbW1hbmQoY29tbWFuZCkgewogICAgICBpZiAoY29tbWFuZCA9PT0gJ3VzZXJNYW5hZ2UnKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6IHRoaXMudXNlck1hbmFnZS5uYW1lfSkKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NlbGVjdE1lbnUnLCB0aGlzLnVzZXJNYW5hZ2UpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywnJykKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2xlYXJUb2tlbicpCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsZWFyVXNlck5hbWUnKQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2xvZ2luJ30pCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBnZXRVc2VyQnlUb2tlbih0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhLnRva2VuKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT09IDApewogICAgICAgIHRoaXMudXNlckltZyA9IHJlcy5kYXRhLmRhdGEuaGVhZF9pbWcKICAgICAgfQogICAgfSkKCiAgfQp9Cg=="},{"version":3,"sources":["CommonHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"CommonHeader.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <header>\n    <div class=\"l-content\">\n      <el-button plain :icon=\"buttonIcon\" size=\"mini\" @click=\"collapseMenu\"></el-button>\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">测试任务</el-breadcrumb-item>\n        <el-breadcrumb-item :to=\"current.path\" v-if=\"current\">\n          {{ current.label }}\n        </el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n    <div class=\"r-content\">\n      <el-dropdown trigger=\"click\" size=\"mini\" @command=\"handleCommand\">\n      <span class=\"el-dropdown-link\">\n        <img class=\"user\" :src=\"userImg\"/>\n      </span>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item command=\"userManage\">详情</el-dropdown-item>\n          <el-dropdown-item command=\"exit\">退出</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </header>\n</template>\n<script>\nimport {mapState} from 'vuex'\nimport {getUserByToken} from '@/api/getData'\nexport default {\n  computed: {\n    ...mapState({\n      current: state => state.tab.currentMenu\n    })\n  },\n  data() {\n    return {\n      userImg: require('../assets/images/user.png'),\n      buttonIcon: 'el-icon-s-fold',\n      userManage: {\n        path: '/userManage',\n        name: 'userManage',\n        label: '用户详情',\n        icon: 'user'\n      }\n    }\n  },\n  methods: {\n    collapseMenu() {\n      this.$store.commit('CollapseMenu')\n      if (this.buttonIcon === 'el-icon-s-fold') {\n        this.buttonIcon = 'el-icon-s-unfold'\n      } else {\n        this.buttonIcon = 'el-icon-s-fold'\n      }\n    },\n    handleCommand(command) {\n      if (command === 'userManage') {\n        this.$router.push({name: this.userManage.name})\n        this.$store.commit('selectMenu', this.userManage)\n      } else {\n        localStorage.setItem('token','')\n        this.$store.dispatch('clearToken')\n        this.$store.dispatch('clearUserName')\n        this.$router.push({ name: 'login'})\n      }\n    }\n  },\n  created() {\n    getUserByToken(this.$store.state.data.token).then(res => {\n      if(res.data.code === 0){\n        this.userImg = res.data.data.head_img\n      }\n    })\n\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\nheader {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.el-button{\n  padding: 0;\n}\n\n.el-button--mini, .el-button--small {\n  font-size: 25px;\n  //border-radius: 90%;\n}\n\n.l-content {\n  display: flex;\n  align-items: center;\n\n  .el-button {\n    margin-right: 20px;\n  }\n}\n\n.r-content {\n  .user {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n  }\n}\n</style>\n<style lang=\"scss\">\n.el-breadcrumb__item {\n  .el-breadcrumb__inner {\n    color: #666;\n    font-weight: normal;\n  }\n\n  &:last-child {\n    .el-breadcrumb__inner {\n      color: #FFFFFF;\n    }\n  }\n}\n</style>"]}]}