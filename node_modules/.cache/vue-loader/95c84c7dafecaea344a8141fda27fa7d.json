{"remainingRequest":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/finup/WebstormProjects/front-test-platform/src/views/animal/animal.vue?vue&type=style&index=0&id=12752645&lang=scss&scoped=true&","dependencies":[{"path":"/Users/finup/WebstormProjects/front-test-platform/src/views/animal/animal.vue","mtime":1616145119618},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICJ+QC9hc3NldHMvc2Nzcy9hbmltYWwuc2NzcyI7Cg=="},{"version":3,"sources":["animal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8MA","file":"animal.vue","sourceRoot":"src/views/animal","sourcesContent":["<template>\n  <div class=\"animal\">\n    <div class=\"animal-header\">\n      <common-form inline :formLabel=\"formLabel\" :form=\"searchFrom\" @change=\"change\">\n        <el-button type=\"primary\" @click=\"getList\">查询</el-button>\n      </common-form>\n    </div>\n    <common-table :tableData=\"tableData\" :tableLabel=\"tableLabel\" :config=\"config\" @changePage=\"getList\"\n                  :is-show-table=\"isShowTable\" :right-width=\"rightWidth\" @animalImage=\"animalImage\"></common-table>\n  </div>\n</template>\n\n<script>\nimport CommonForm from \"@/components/CommonForm\";\nimport CommonTable from \"@/components/CommonTable\";\nimport {getAnimalListApi} from \"@/api/getData\"\n\nexport default {\n  name: \"animal\",\n  components: {\n    CommonForm,\n    CommonTable\n  },\n  data() {\n    return {\n      isShowTable: true,\n      rightWidth: '180',\n      config: {\n        page: 1,\n        total: 1,\n        size: 20,\n        loading: false\n      },\n      formLabel: [\n        {\n          type: 'select',\n          options: [\n            {\n              label: '普通',\n              value: 'ordinary'\n            },\n            {\n              label: '悠闲',\n              value: 'leisurely'\n            },\n            {\n              label: '运动',\n              value: 'movement'\n            },\n            {\n              label: '暴躁',\n              value: 'irritable'\n            },\n            {\n              label: '元气',\n              value: 'vitality'\n            },\n            {\n              label: '成熟',\n              value: 'mature'\n            },\n            {\n              label: '自恋',\n              value: 'narcissism'\n            },\n            {\n              label: '大姐姐',\n              value: 'bigSister'\n            }\n          ]\n        }\n      ],\n      searchFrom: {\n        keyword: ''\n      },\n      tableData: [],\n      tableLabel: [\n        {\n          prop: 'animal_name',\n          label: '动物名称'\n        },\n        {\n          prop: 'amiibo_id',\n          label: 'amiibo序号'\n        },\n        {\n          prop: 'sex',\n          label: '性别'\n        },\n        {\n          prop: 'race',\n          label: '种族'\n        },\n        {\n          prop: 'disposition',\n          label: '性格'\n        },\n        {\n          prop: 'birthday',\n          label: '生日'\n        },\n        {\n          prop: 'gift_one',\n          label: '推荐礼物1'\n        },\n        {\n          prop: 'gift_two',\n          label: '推荐礼物2'\n        },\n        {\n          prop: 'gift_three',\n          label: '推荐礼物3'\n        },\n        {\n          prop: 'gift_four',\n          label: '推荐礼物4'\n        },\n        {\n          prop: 'favorite_song',\n          label: '喜爱歌曲'\n        },\n        {\n          prop: 'favorite_colour',\n          label: '喜爱颜色'\n        }\n      ]\n    }\n  },\n  methods: {\n    async getList() {\n      try {\n        this.searchFrom.keyword ? (this.config.page = 1) : ''\n        this.config.loading = true;\n\n        let result = await getAnimalListApi(this.config.page, this.config.size, this.searchFrom.keyword);\n        if (result.data.code === 0) {\n          result = result.data.data\n          this.tableData = result.rows;\n          this.tableData.forEach(item => {\n            item.sex = item.sex === 1 ? '男' : '女';\n            item.type = 'animal';\n          })\n          this.config.page = result.page;\n          this.config.total = result.total;\n          this.config.size = result.size;\n        } else {\n          return null\n        }\n      } catch (e) {\n        console.log('getList', e)\n      } finally {\n        this.config.loading = false\n        this.searchFrom.keyword = ''\n      }\n    },\n    animalImage(row) {\n      const h = this.$createElement;\n      this.$msgbox({\n        title: '形象',\n        message: h('p', null, [\n          h('img', {style: 'width: 330px; height: 438px; background-image: url(' + row.img_url + ');'})\n        ]),\n        confirmButtonText: '确定',\n        beforeClose: (action, instance, done) => {\n          done()\n        }\n      }).then();\n    },\n    change($event) {\n      switch ($event) {\n        case 'ordinary':\n          this.searchFrom.keyword = '普通';\n          break;\n        case 'leisurely':\n          this.searchFrom.keyword = '悠闲';\n          break;\n        case 'movement':\n          this.searchFrom.keyword = '运动';\n          break;\n        case 'irritable':\n          this.searchFrom.keyword = '暴躁';\n          break;\n        case 'vitality':\n          this.searchFrom.keyword = '元气';\n          break;\n        case 'mature':\n          this.searchFrom.keyword = '成熟';\n          break;\n        case 'narcissism':\n          this.searchFrom.keyword = '自恋';\n          break;\n        case 'bigSister':\n          this.searchFrom.keyword = '大姐姐';\n          break;\n        default:\n          this.searchFrom.keyword = '';\n      }\n    }\n  },\n  created() {\n    this.getList()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/assets/scss/animal.scss\";\n</style>"]}]}