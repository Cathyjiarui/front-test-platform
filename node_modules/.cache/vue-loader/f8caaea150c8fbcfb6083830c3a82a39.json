{"remainingRequest":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/finup/WebstormProjects/front-test-platform/src/views/animal/animal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/finup/WebstormProjects/front-test-platform/src/views/animal/animal.vue","mtime":1616145119618},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb21tb25Gb3JtIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25Gb3JtIjsKaW1wb3J0IENvbW1vblRhYmxlIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25UYWJsZSI7CmltcG9ydCB7Z2V0QW5pbWFsTGlzdEFwaX0gZnJvbSAiQC9hcGkvZ2V0RGF0YSIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYW5pbWFsIiwKICBjb21wb25lbnRzOiB7CiAgICBDb21tb25Gb3JtLAogICAgQ29tbW9uVGFibGUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3dUYWJsZTogdHJ1ZSwKICAgICAgcmlnaHRXaWR0aDogJzE4MCcsCiAgICAgIGNvbmZpZzogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgdG90YWw6IDEsCiAgICAgICAgc2l6ZTogMjAsCiAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgfSwKICAgICAgZm9ybUxhYmVsOiBbCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICBvcHRpb25zOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBsYWJlbDogJ+aZrumAmicsCiAgICAgICAgICAgICAgdmFsdWU6ICdvcmRpbmFyeScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGxhYmVsOiAn5oKg6ZeyJywKICAgICAgICAgICAgICB2YWx1ZTogJ2xlaXN1cmVseScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGxhYmVsOiAn6L+Q5YqoJywKICAgICAgICAgICAgICB2YWx1ZTogJ21vdmVtZW50JwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbGFiZWw6ICfmmrTouoEnLAogICAgICAgICAgICAgIHZhbHVlOiAnaXJyaXRhYmxlJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbGFiZWw6ICflhYPmsJQnLAogICAgICAgICAgICAgIHZhbHVlOiAndml0YWxpdHknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBsYWJlbDogJ+aIkOeGnycsCiAgICAgICAgICAgICAgdmFsdWU6ICdtYXR1cmUnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBsYWJlbDogJ+iHquaBiycsCiAgICAgICAgICAgICAgdmFsdWU6ICduYXJjaXNzaXNtJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbGFiZWw6ICflpKflp5Dlp5AnLAogICAgICAgICAgICAgIHZhbHVlOiAnYmlnU2lzdGVyJwogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICBdLAogICAgICBzZWFyY2hGcm9tOiB7CiAgICAgICAga2V5d29yZDogJycKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdGFibGVMYWJlbDogWwogICAgICAgIHsKICAgICAgICAgIHByb3A6ICdhbmltYWxfbmFtZScsCiAgICAgICAgICBsYWJlbDogJ+WKqOeJqeWQjeensCcKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHByb3A6ICdhbWlpYm9faWQnLAogICAgICAgICAgbGFiZWw6ICdhbWlpYm/luo/lj7cnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBwcm9wOiAnc2V4JywKICAgICAgICAgIGxhYmVsOiAn5oCn5YirJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcHJvcDogJ3JhY2UnLAogICAgICAgICAgbGFiZWw6ICfnp43ml48nCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBwcm9wOiAnZGlzcG9zaXRpb24nLAogICAgICAgICAgbGFiZWw6ICfmgKfmoLwnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBwcm9wOiAnYmlydGhkYXknLAogICAgICAgICAgbGFiZWw6ICfnlJ/ml6UnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBwcm9wOiAnZ2lmdF9vbmUnLAogICAgICAgICAgbGFiZWw6ICfmjqjojZDnpLzniakxJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcHJvcDogJ2dpZnRfdHdvJywKICAgICAgICAgIGxhYmVsOiAn5o6o6I2Q56S854mpMicKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHByb3A6ICdnaWZ0X3RocmVlJywKICAgICAgICAgIGxhYmVsOiAn5o6o6I2Q56S854mpMycKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHByb3A6ICdnaWZ0X2ZvdXInLAogICAgICAgICAgbGFiZWw6ICfmjqjojZDnpLzniak0JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcHJvcDogJ2Zhdm9yaXRlX3NvbmcnLAogICAgICAgICAgbGFiZWw6ICfllpzniLHmrYzmm7InCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBwcm9wOiAnZmF2b3JpdGVfY29sb3VyJywKICAgICAgICAgIGxhYmVsOiAn5Zac54ix6aKc6ImyJwogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0TGlzdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLnNlYXJjaEZyb20ua2V5d29yZCA/ICh0aGlzLmNvbmZpZy5wYWdlID0gMSkgOiAnJwogICAgICAgIHRoaXMuY29uZmlnLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZ2V0QW5pbWFsTGlzdEFwaSh0aGlzLmNvbmZpZy5wYWdlLCB0aGlzLmNvbmZpZy5zaXplLCB0aGlzLnNlYXJjaEZyb20ua2V5d29yZCk7CiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kYXRhLmRhdGEKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzdWx0LnJvd3M7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICBpdGVtLnNleCA9IGl0ZW0uc2V4ID09PSAxID8gJ+eUtycgOiAn5aWzJzsKICAgICAgICAgICAgaXRlbS50eXBlID0gJ2FuaW1hbCc7CiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5jb25maWcucGFnZSA9IHJlc3VsdC5wYWdlOwogICAgICAgICAgdGhpcy5jb25maWcudG90YWwgPSByZXN1bHQudG90YWw7CiAgICAgICAgICB0aGlzLmNvbmZpZy5zaXplID0gcmVzdWx0LnNpemU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBudWxsCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2dldExpc3QnLCBlKQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuY29uZmlnLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIHRoaXMuc2VhcmNoRnJvbS5rZXl3b3JkID0gJycKICAgICAgfQogICAgfSwKICAgIGFuaW1hbEltYWdlKHJvdykgewogICAgICBjb25zdCBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdGhpcy4kbXNnYm94KHsKICAgICAgICB0aXRsZTogJ+W9ouixoScsCiAgICAgICAgbWVzc2FnZTogaCgncCcsIG51bGwsIFsKICAgICAgICAgIGgoJ2ltZycsIHtzdHlsZTogJ3dpZHRoOiAzMzBweDsgaGVpZ2h0OiA0MzhweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcgKyByb3cuaW1nX3VybCArICcpOyd9KQogICAgICAgIF0pLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBiZWZvcmVDbG9zZTogKGFjdGlvbiwgaW5zdGFuY2UsIGRvbmUpID0+IHsKICAgICAgICAgIGRvbmUoKQogICAgICAgIH0KICAgICAgfSkudGhlbigpOwogICAgfSwKICAgIGNoYW5nZSgkZXZlbnQpIHsKICAgICAgc3dpdGNoICgkZXZlbnQpIHsKICAgICAgICBjYXNlICdvcmRpbmFyeSc6CiAgICAgICAgICB0aGlzLnNlYXJjaEZyb20ua2V5d29yZCA9ICfmma7pgJonOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnbGVpc3VyZWx5JzoKICAgICAgICAgIHRoaXMuc2VhcmNoRnJvbS5rZXl3b3JkID0gJ+aCoOmXsic7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdtb3ZlbWVudCc6CiAgICAgICAgICB0aGlzLnNlYXJjaEZyb20ua2V5d29yZCA9ICfov5DliqgnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnaXJyaXRhYmxlJzoKICAgICAgICAgIHRoaXMuc2VhcmNoRnJvbS5rZXl3b3JkID0gJ+aatOi6gSc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd2aXRhbGl0eSc6CiAgICAgICAgICB0aGlzLnNlYXJjaEZyb20ua2V5d29yZCA9ICflhYPmsJQnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnbWF0dXJlJzoKICAgICAgICAgIHRoaXMuc2VhcmNoRnJvbS5rZXl3b3JkID0gJ+aIkOeGnyc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICduYXJjaXNzaXNtJzoKICAgICAgICAgIHRoaXMuc2VhcmNoRnJvbS5rZXl3b3JkID0gJ+iHquaBiyc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdiaWdTaXN0ZXInOgogICAgICAgICAgdGhpcy5zZWFyY2hGcm9tLmtleXdvcmQgPSAn5aSn5aeQ5aeQJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aGlzLnNlYXJjaEZyb20ua2V5d29yZCA9ICcnOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCkKICB9Cn0K"},{"version":3,"sources":["animal.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"animal.vue","sourceRoot":"src/views/animal","sourcesContent":["<template>\n  <div class=\"animal\">\n    <div class=\"animal-header\">\n      <common-form inline :formLabel=\"formLabel\" :form=\"searchFrom\" @change=\"change\">\n        <el-button type=\"primary\" @click=\"getList\">查询</el-button>\n      </common-form>\n    </div>\n    <common-table :tableData=\"tableData\" :tableLabel=\"tableLabel\" :config=\"config\" @changePage=\"getList\"\n                  :is-show-table=\"isShowTable\" :right-width=\"rightWidth\" @animalImage=\"animalImage\"></common-table>\n  </div>\n</template>\n\n<script>\nimport CommonForm from \"@/components/CommonForm\";\nimport CommonTable from \"@/components/CommonTable\";\nimport {getAnimalListApi} from \"@/api/getData\"\n\nexport default {\n  name: \"animal\",\n  components: {\n    CommonForm,\n    CommonTable\n  },\n  data() {\n    return {\n      isShowTable: true,\n      rightWidth: '180',\n      config: {\n        page: 1,\n        total: 1,\n        size: 20,\n        loading: false\n      },\n      formLabel: [\n        {\n          type: 'select',\n          options: [\n            {\n              label: '普通',\n              value: 'ordinary'\n            },\n            {\n              label: '悠闲',\n              value: 'leisurely'\n            },\n            {\n              label: '运动',\n              value: 'movement'\n            },\n            {\n              label: '暴躁',\n              value: 'irritable'\n            },\n            {\n              label: '元气',\n              value: 'vitality'\n            },\n            {\n              label: '成熟',\n              value: 'mature'\n            },\n            {\n              label: '自恋',\n              value: 'narcissism'\n            },\n            {\n              label: '大姐姐',\n              value: 'bigSister'\n            }\n          ]\n        }\n      ],\n      searchFrom: {\n        keyword: ''\n      },\n      tableData: [],\n      tableLabel: [\n        {\n          prop: 'animal_name',\n          label: '动物名称'\n        },\n        {\n          prop: 'amiibo_id',\n          label: 'amiibo序号'\n        },\n        {\n          prop: 'sex',\n          label: '性别'\n        },\n        {\n          prop: 'race',\n          label: '种族'\n        },\n        {\n          prop: 'disposition',\n          label: '性格'\n        },\n        {\n          prop: 'birthday',\n          label: '生日'\n        },\n        {\n          prop: 'gift_one',\n          label: '推荐礼物1'\n        },\n        {\n          prop: 'gift_two',\n          label: '推荐礼物2'\n        },\n        {\n          prop: 'gift_three',\n          label: '推荐礼物3'\n        },\n        {\n          prop: 'gift_four',\n          label: '推荐礼物4'\n        },\n        {\n          prop: 'favorite_song',\n          label: '喜爱歌曲'\n        },\n        {\n          prop: 'favorite_colour',\n          label: '喜爱颜色'\n        }\n      ]\n    }\n  },\n  methods: {\n    async getList() {\n      try {\n        this.searchFrom.keyword ? (this.config.page = 1) : ''\n        this.config.loading = true;\n\n        let result = await getAnimalListApi(this.config.page, this.config.size, this.searchFrom.keyword);\n        if (result.data.code === 0) {\n          result = result.data.data\n          this.tableData = result.rows;\n          this.tableData.forEach(item => {\n            item.sex = item.sex === 1 ? '男' : '女';\n            item.type = 'animal';\n          })\n          this.config.page = result.page;\n          this.config.total = result.total;\n          this.config.size = result.size;\n        } else {\n          return null\n        }\n      } catch (e) {\n        console.log('getList', e)\n      } finally {\n        this.config.loading = false\n        this.searchFrom.keyword = ''\n      }\n    },\n    animalImage(row) {\n      const h = this.$createElement;\n      this.$msgbox({\n        title: '形象',\n        message: h('p', null, [\n          h('img', {style: 'width: 330px; height: 438px; background-image: url(' + row.img_url + ');'})\n        ]),\n        confirmButtonText: '确定',\n        beforeClose: (action, instance, done) => {\n          done()\n        }\n      }).then();\n    },\n    change($event) {\n      switch ($event) {\n        case 'ordinary':\n          this.searchFrom.keyword = '普通';\n          break;\n        case 'leisurely':\n          this.searchFrom.keyword = '悠闲';\n          break;\n        case 'movement':\n          this.searchFrom.keyword = '运动';\n          break;\n        case 'irritable':\n          this.searchFrom.keyword = '暴躁';\n          break;\n        case 'vitality':\n          this.searchFrom.keyword = '元气';\n          break;\n        case 'mature':\n          this.searchFrom.keyword = '成熟';\n          break;\n        case 'narcissism':\n          this.searchFrom.keyword = '自恋';\n          break;\n        case 'bigSister':\n          this.searchFrom.keyword = '大姐姐';\n          break;\n        default:\n          this.searchFrom.keyword = '';\n      }\n    }\n  },\n  created() {\n    this.getList()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/assets/scss/animal.scss\";\n</style>"]}]}