{"remainingRequest":"/Users/finup/WebstormProjects/front-test-platform/node_modules/babel-loader/lib/index.js!/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/finup/WebstormProjects/front-test-platform/src/views/Login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/finup/WebstormProjects/front-test-platform/src/views/Login/Login.vue","mtime":1616145119616},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/finup/WebstormProjects/front-test-platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDb21tb25Gb3JtIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25Gb3JtIjsKaW1wb3J0IHsgbG9naW5BcGkgfSBmcm9tICJAL2FwaS9nZXREYXRhIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbW1vbkZvcm06IENvbW1vbkZvcm0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc09rOiBmYWxzZSwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcHdkOiAnJwogICAgICB9LAogICAgICBsb2dpbkZvcm1MYWJlbDogW3sKICAgICAgICBtb2RlbDogJ25hbWUnLAogICAgICAgIGxhYmVsOiAn55So5oi35ZCNJwogICAgICB9LCB7CiAgICAgICAgbW9kZWw6ICdwd2QnLAogICAgICAgIGxhYmVsOiAn5a+G56CBJywKICAgICAgICB0eXBlOiAncGFzc3dvcmQnCiAgICAgIH1dLAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBwYXR0ZXJuOiAvXlthLXpBLVowLTldezUsMzJ9JC8sCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN6ZW/5bqm5Li6NS0zMuS4quWtl+espicKICAgICAgICB9XSwKICAgICAgICBwd2Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLiRyZWZzLmNvbW1vbkZvcm0uJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvL+WIpOaWreaYr+WQpuespuWQiOmqjOivgeadoeS7tu+8jOespuWQiOWwhmlzT2vorr7nva7kuLp0cnVlCiAgICAgIHRoaXMuJHJlZnMuY29tbW9uRm9ybS4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMuaXNPayA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLmlzT2spIHsKICAgICAgICAvL+aBouWkjWlzT2vorr7nva4KICAgICAgICB0aGlzLmlzT2sgPSBmYWxzZTsgLy/lj5HpgIHnmbvlvZXor7fmsYIKCiAgICAgICAgbG9naW5BcGkodGhpcy5sb2dpbkZvcm0ubmFtZSwgdGhpcy5sb2dpbkZvcm0ucHdkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9uYW1lJywgX3RoaXMubG9naW5Gb3JtLm5hbWUpOwoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRUb2tlbicsIHJlcy5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRVc2VyTmFtZScsIF90aGlzLmxvZ2luRm9ybS5uYW1lKTsKCiAgICAgICAgICAgIF90aGlzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn55m75b2V5oiQ5YqfJywKICAgICAgICAgICAgICBzaG93Q2xvc2U6IGZhbHNlLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICAgICAgICAgICAgLy/ot7Povaziu5rivq8sIOagueaNruS4muWKoemcgOimgQogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJy9tYWluJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vJywKICAgICAgICAgICAgICBzaG93Q2xvc2U6IGZhbHNlLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgICAgIG9mZnNldDogMTAsCiAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLmNvbW1vbkZvcm0uJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXlpLHotKUnLAogICAgICAgICAgc2hvd0Nsb3NlOiBmYWxzZSwKICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgb2Zmc2V0OiAxMCwKICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgIF90aGlzLiRyZWZzLmNvbW1vbkZvcm0uJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"login\" v-on:keyup.enter=\"submitForm\">\n    <common-form class=\"loginForm\" :form-label=\"loginFormLabel\" :form=\"loginForm\" ref=\"commonForm\" :rules=\"loginRules\"\n                 :is-ok=\"isOk\">\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm\">登录</el-button>\n        <el-button @click=\"resetForm\">重置</el-button>\n      </el-form-item>\n    </common-form>\n  </div>\n</template>\n\n<script>\nimport CommonForm from \"@/components/CommonForm\";\nimport {loginApi} from \"@/api/getData\";\n\nexport default {\n  components: {\n    CommonForm\n  },\n  data() {\n    return {\n      isOk: false,\n      loginForm: {\n        name: '',\n        pwd: ''\n      },\n      loginFormLabel: [\n        {\n          model: 'name',\n          label: '用户名'\n        },\n        {\n          model: 'pwd',\n          label: '密码',\n          type: 'password'\n        }\n      ],\n      loginRules: {\n        name: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n          {pattern: /^[a-zA-Z0-9]{5,32}$/, message: '用户名长度为5-32个字符'}\n        ],\n        pwd: [\n          {required: true, message: '请输入密码', trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  methods: {\n    resetForm() {\n      this.$refs.commonForm.$refs['form'].resetFields();\n    },\n    submitForm() {\n      //判断是否符合验证条件，符合将isOk设置为true\n      this.$refs.commonForm.$refs['form'].validate((valid) => {\n        if (valid) {\n          this.isOk = true\n        }\n      })\n      if (this.isOk) {\n        //恢复isOk设置\n        this.isOk = false\n        //发送登录请求\n        loginApi(this.loginForm.name, this.loginForm.pwd).then(res => {\n          if (res.data.code === 0) {\n            localStorage.setItem('token', res.data.data);\n            localStorage.setItem('user_name',this.loginForm.name)\n            this.$store.dispatch('setToken', res.data.data)\n            this.$store.dispatch('setUserName',this.loginForm.name)\n            this.$notify({\n              title: '',\n              message: '登录成功',\n              showClose: false,\n              duration: 1000,\n              type: 'success',\n              onClose: () => {\n                //跳转⻚⾯, 根据业务需要\n                this.$router.push({path: '/main'})\n              }\n            });\n          } else {\n            this.$notify.error({\n              title: '错误',\n              message: '用户名或密码错误',\n              showClose: false,\n              duration: 1000,\n              offset: 10,\n              onClose: () => {\n                this.$refs.commonForm.$refs['form'].resetFields();\n              }\n            });\n          }\n        })\n      } else {\n        this.$notify.error({\n          title: '错误',\n          message: '登录失败',\n          showClose: false,\n          duration: 1000,\n          offset: 10,\n          onClose: () => {\n            this.$refs.commonForm.$refs['form'].resetFields();\n          }\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/assets/scss/login.scss\";\n</style>"],"sourceRoot":"src/views/Login"}]}